# ローカリゼーション

## 内容

- [基本](#the-basics)
- [ローカライズ文字列の取得](#get)
- [プレースホルダーと置換](#replace)

<a name="the-basics"></a>
## 基本

ローカライズはアプリケーションを他の言語に翻訳する処理のことです。**Lang**クラスは多言語対応アプリケーションを構成し、テキストを入手するための、シンプルなメカニズムを提供しています。

全ての言語ファイルは、**application/languge**ディレクトリー下に置かれます。あなたのアプリケーションで扱うそれぞれの言語のディレクトリーを**application/language**ディレクトリー下に作成してください。ですから例えば、英語とスペイン語をアプリケーションで取り扱うのでしたら、**language**ディレクトリーの下に、**en**と**sp**ディレクトリーを作成すれば良いのです。

それぞれの言語ディレクトリーは異なった言語ファイルで構成されています。それぞれの言語ファイルは、シンプルにその言語の文字列の配列です。事実、言語ファイルの構造は、設定ファイルと同じです。例えば、**application/language/en**ディレクトリーの中で、**marketing.php**ファイルを作成するならば、こんなふうになります。

#### 言語ファイルを作成

	return array(

	     'welcome' => 'Welcome to our website!',

	);

次に、対応する**marketing.php**ファイルを**application/language/sp**ディレクトリーに作成します。このファイルは次のような形式になります。

	return array(

	     'welcome' => 'Bienvenido a nuestro sitio web!',

	);

ナイスですね！これで、どうやって言語ファイルとディレクトリーを用意すれば良いか、理解できたでしょう。続けて、ローカライズしましょう！

<a name="get"></a>
## ローカライズ文字列の取得

#### ローカライズした文字列を取得

	echo Lang::line('marketing.welcome')->get();

#### "\_\_"ヘルパーを使用し、ローカライズした文字列を取得

	echo __('marketing.welcome');

"marketing"と"welcome"を分けるピリオドをどう使用しているかに注目してください。ピリオドの前の文字列は言語ファイルを表し、ピリオドの後に続く文字列は、そのファイルの中で指定されているキーを表します。

デフォルトの言語以外の文字列を取得する必要があるのですか？問題ありません。**get**メソッドで言語を指定するだけです。

#### 指定された言語のローカライズ文字列を取得

	echo Lang::line('marketing.welcome')->get('sp');

<a name="replace"></a>
## プレースホルダーと置換

では、もうちょっとウェルカムメッセージを続けましょう。"Welcome to our website!"は余りにも一般的すぎるメッセージです。誰を歓迎しているのか、名前を指定できたら良くなります。しかし、それぞれのユーザーごとに言語ファイル中に指定するのは、時間を浪費し、馬鹿馬鹿しいですよね。ありがたいことに、する必要はありません。言語ファイル中の翻訳テキスト中に「プレースホルダー」が使用できます。プレースホルダーはコロン(:)で始まります。

#### プレースホルダーを使い、翻訳テキストを作成

	'welcome' => 'Welcome to our website, :name!'

#### 置換されたローカライズ文字列を取得

	echo Lang::line('marketing.welcome', array('name' => 'Taylor'))->get();

#### "\_\_"を使用し、置換されたローカライズ文字列を取得

	echo __('marketing.welcome', array('name' => 'Taylor'));