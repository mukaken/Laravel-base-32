# アセットの管理

## 内容

- [アセットを登録する](#registering-assets)
- [アセットをダンプする](#dumping-assets)
- [アセットの依存](#asset-dependencies)
- [アセットのコンテナ](#asset-containers)
- [バンドルのアセット](#bundle-assets)

<a name="registering-assets"></a>
## アセットを登録する

**Asset**クラスはCSSとJavascriptをアプリケーションで使用する簡単な方法を提供します。アセットを登録するには、**Asset**クラスの**add**メソッドを呼び出すだけです。

#### アセットを登録する

	Asset::add('jquery', 'js/jquery.js');

**add**メソッドは３つの引数を取ります。最初はアセットの名前で、２つ目はそのアセットの**public**ディレクトリーからの相対パスです。３つ目はアセットの依存リストです。（詳細は後ほど）登録するのがJavascriptなのかcssなのかをメソッドに伝えていないことに注目してください。**add**メソッドはファイルの拡張子から、登録するファイルのタイプを決定します。

<a name="dumping-assets"></a>
## アセットをダンプする

登録済みアセットのリンクをビューに表示する準備が済んだら、**styles**と**scripts**メソッドが使用できます。

#### ビューの中にアセットをダンプする

	<head>
		<?php echo Asset::styles(); ?>
		<?php echo Asset::scripts(); ?>
	</head>

<a name="asset-dependencies"></a>
## アセットの依存

時々、アセットは他のアセットに依存していることを指定する必要があるでしょう。つまりビューの中で、あるアセットを宣言する前に、他のアセットを宣言しておく必要がある場合です。Laravelのアセット依存性管理は、これ以上簡単にできないほど簡単です。あなたがアセットに付けた「名前」を覚えていますか？**add**メソッドの第３引数に依存性の宣言を渡すことができます。

#### 依存関係のあるアセットを登録する

	Asset::add('jquery-ui', 'js/jquery-ui.js', 'jquery');

この例では、**jquery-ui**アセットを登録し、それと同時に**jquery**アセットに依存している指定を行なっています。これで、ビューの中でアセットのリンクを置くときに、jQuery UIアセットの前にいつも、jQueryアセットが宣言されます。依存しているアセットは二つ以上ある？大丈夫です：

#### 複数の依存関係があるアセットを登録する

	Asset::add('jquery-ui', 'js/jquery-ui.js', array('first', 'second'));

<a name="asset-containers"></a>
## アセットのコンテナ

レスポンスを早くするために、JavascriptをHTMLドキュメントの最後に置くのは常識です。しかし、いくつかのアセットをドキュメントのheadに置く必要がある時はどうしましょう？問題ありません。Assetクラスはアセット**コンテナ**で簡単に管理できる方法を提供しています。Assetクラスの**container**メソッドを呼び出し、コンテナ名をつげてください。一度コンテナのインタンスを作れば、今までと同じシンタックスを用いて、コンテナにアセットを自由に追加できます。

#### アセットコンテナを取得する

	Asset::container('footer')->add('example', 'js/example.js');

#### コンテナに与えられたアセットをダンプする

	echo Asset::container('footer')->scripts();

<a name="bundle-assets"></a>
## バンドルのアセット

バンドルアセットを便利に追加したり、ダンプする前に、[バンドルアセットを生成し、公開する](/docs/bundles#bundle-assets)ドキュメントを読みたいかも知れませんね。

アセットを登録する時、通常パスは**public**ディレクトリーからの相対パスになります。しかしながら、これではバンドルアセットを取り扱うときに不便です。それらは**public/bundles**ディレクトリーの中にあるからです。でも、思い出してください。Laravelは人生をより簡単にするために存在していることを。ですから、シンプルに管理しているアセットコンテナにバンドルを指定してください。

#### 管理しているアセットコンテナにバンドルを指定する

	Asset::container('foo')->bundle('admin');

これでアセットを追加すれば、バンドルのpublicディレクトリーへの相対パスで使用できます。Laravelは自動的に正しいフルパスを生成します。